{"version":3,"sources":["script/jquery.colorbox.js"],"names":["$","document","window","defaults","html","photo","iframe","inline","transition","speed","fadeOut","width","initialWidth","innerWidth","maxWidth","height","initialHeight","innerHeight","maxHeight","scalePhotos","scrolling","opacity","preloading","className","overlayClose","escKey","arrowKey","top","bottom","left","right","fixed","data","undefined","closeButton","fastIframe","open","reposition","loop","slideshow","slideshowAuto","slideshowSpeed","slideshowStart","slideshowStop","photoRegex","retinaImage","retinaUrl","retinaSuffix","current","previous","next","close","xhrError","imgError","returnFocus","trapFocus","onOpen","onLoad","onComplete","onCleanup","onClosed","rel","href","attr","title","createImg","img","Image","attrs","each","key","val","createIframe","createElement","frameBorder","allowTransparency","name","Date","getTime","allowFullscreen","colorbox","prefix","boxElement","event_open","event_load","event_complete","event_cleanup","event_closed","event_purge","$overlay","$box","$wrap","$content","$topBorder","$leftBorder","$rightBorder","$bottomBorder","$related","$window","$loaded","$loadingBay","$loadingOverlay","$title","$current","$slideshow","$next","$prev","$close","$groupControls","$events","settings","interfaceHeight","interfaceWidth","loadedHeight","loadedWidth","index","active","closing","loadingTimer","publicMethod","div","requests","previousCSS","init","$tag","tag","id","css","element","style","cssText","winheight","Settings","options","Object","cache","el","value","dataAttr","get","isFunction","call","getIndex","increment","max","length","newIndex","setSize","size","dimension","Math","round","test","parseInt","isImage","url","devicePixelRatio","replace","e","contains","target","stopPropagation","focus","setClass","str","add","removeClass","addClass","getRelated","filter","trigger","event","triggerHandler","click","timeOut","clear","clearTimeout","set","setTimeout","start","unbind","one","stop","bind","reset","hide","show","launch","visibility","display","append","outerHeight","outerWidth","w","min","h","position","addEventListener","removeEventListener","parseFloat","cursor","appendTo","load","appendHTML","support","role","tabindex","find","body","parent","addBindings","clickHandler","which","shiftKey","altKey","metaKey","ctrlKey","preventDefault","prev","keyCode","fn","on","live","callback","$obj","old","extend","loadedCallback","offset","scrollTop","scrollLeft","modalDimensions","tempSpeed","i","dequeue","animate","duration","complete","step","resize","scrolltop","prep","object","remove","getWidth","mw","getHeight","mh","overflow","prependTo","total","removeFilter","removeAttribute","src","fadeTo","setResize","$inline","request","$target","eq","insertBefore","replaceWith","percent","marginTop","status","contents","removeData","jQuery"],"mappings":"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","file":"jquery.colorbox.f60d5411.map","sourceRoot":"../map","sourcesContent":["/*!\n\tColorbox 1.6.4\n\tlicense: MIT\n\thttp://www.jacklmoore.com/colorbox\n*/\n(function ($, document, window) {\n\tvar\n\t// Default settings object.\n\t// See http://jacklmoore.com/colorbox for details.\n\tdefaults = {\n\t\t// data sources\n\t\thtml: false,\n\t\tphoto: false,\n\t\tiframe: false,\n\t\tinline: false,\n\n\t\t// behavior and appearance\n\t\ttransition: \"elastic\",\n\t\tspeed: 300,\n\t\tfadeOut: 300,\n\t\twidth: false,\n\t\tinitialWidth: \"600\",\n\t\tinnerWidth: false,\n\t\tmaxWidth: false,\n\t\theight: false,\n\t\tinitialHeight: \"450\",\n\t\tinnerHeight: false,\n\t\tmaxHeight: false,\n\t\tscalePhotos: true,\n\t\tscrolling: true,\n\t\topacity: 0.9,\n\t\tpreloading: true,\n\t\tclassName: false,\n\t\toverlayClose: true,\n\t\tescKey: true,\n\t\tarrowKey: true,\n\t\ttop: false,\n\t\tbottom: false,\n\t\tleft: false,\n\t\tright: false,\n\t\tfixed: false,\n\t\tdata: undefined,\n\t\tcloseButton: true,\n\t\tfastIframe: true,\n\t\topen: false,\n\t\treposition: true,\n\t\tloop: true,\n\t\tslideshow: false,\n\t\tslideshowAuto: true,\n\t\tslideshowSpeed: 2500,\n\t\tslideshowStart: \"start slideshow\",\n\t\tslideshowStop: \"stop slideshow\",\n\t\tphotoRegex: /\\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\\?).*)?$/i,\n\n\t\t// alternate image paths for high-res displays\n\t\tretinaImage: false,\n\t\tretinaUrl: false,\n\t\tretinaSuffix: '@2x.$1',\n\n\t\t// internationalization\n\t\tcurrent: \"image {current} of {total}\",\n\t\tprevious: \"previous\",\n\t\tnext: \"next\",\n\t\tclose: \"close\",\n\t\txhrError: \"This content failed to load.\",\n\t\timgError: \"This image failed to load.\",\n\n\t\t// accessbility\n\t\treturnFocus: true,\n\t\ttrapFocus: true,\n\n\t\t// callbacks\n\t\tonOpen: false,\n\t\tonLoad: false,\n\t\tonComplete: false,\n\t\tonCleanup: false,\n\t\tonClosed: false,\n\n\t\trel: function() {\n\t\t\treturn this.rel;\n\t\t},\n\t\thref: function() {\n\t\t\t// using this.href would give the absolute url, when the href may have been inteded as a selector (e.g. '#container')\n\t\t\treturn $(this).attr('href');\n\t\t},\n\t\ttitle: function() {\n\t\t\treturn this.title;\n\t\t},\n\t\tcreateImg: function() {\n\t\t\tvar img = new Image();\n\t\t\tvar attrs = $(this).data('cbox-img-attrs');\n\n\t\t\tif (typeof attrs === 'object') {\n\t\t\t\t$.each(attrs, function(key, val){\n\t\t\t\t\timg[key] = val;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn img;\n\t\t},\n\t\tcreateIframe: function() {\n\t\t\tvar iframe = document.createElement('iframe');\n\t\t\tvar attrs = $(this).data('cbox-iframe-attrs');\n\n\t\t\tif (typeof attrs === 'object') {\n\t\t\t\t$.each(attrs, function(key, val){\n\t\t\t\t\tiframe[key] = val;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ('frameBorder' in iframe) {\n\t\t\t\tiframe.frameBorder = 0;\n\t\t\t}\n\t\t\tif ('allowTransparency' in iframe) {\n\t\t\t\tiframe.allowTransparency = \"true\";\n\t\t\t}\n\t\t\tiframe.name = (new Date()).getTime(); // give the iframe a unique name to prevent caching\n\t\t\tiframe.allowFullscreen = true;\n\n\t\t\treturn iframe;\n\t\t}\n\t},\n\n\t// Abstracting the HTML and event identifiers for easy rebranding\n\tcolorbox = 'colorbox',\n\tprefix = 'cbox',\n\tboxElement = prefix + 'Element',\n\n\t// Events\n\tevent_open = prefix + '_open',\n\tevent_load = prefix + '_load',\n\tevent_complete = prefix + '_complete',\n\tevent_cleanup = prefix + '_cleanup',\n\tevent_closed = prefix + '_closed',\n\tevent_purge = prefix + '_purge',\n\n\t// Cached jQuery Object Variables\n\t$overlay,\n\t$box,\n\t$wrap,\n\t$content,\n\t$topBorder,\n\t$leftBorder,\n\t$rightBorder,\n\t$bottomBorder,\n\t$related,\n\t$window,\n\t$loaded,\n\t$loadingBay,\n\t$loadingOverlay,\n\t$title,\n\t$current,\n\t$slideshow,\n\t$next,\n\t$prev,\n\t$close,\n\t$groupControls,\n\t$events = $('<a/>'), // $({}) would be preferred, but there is an issue with jQuery 1.4.2\n\n\t// Variables for cached values or use across multiple functions\n\tsettings,\n\tinterfaceHeight,\n\tinterfaceWidth,\n\tloadedHeight,\n\tloadedWidth,\n\tindex,\n\tphoto,\n\topen,\n\tactive,\n\tclosing,\n\tloadingTimer,\n\tpublicMethod,\n\tdiv = \"div\",\n\trequests = 0,\n\tpreviousCSS = {},\n\tinit;\n\n\t// ****************\n\t// HELPER FUNCTIONS\n\t// ****************\n\n\t// Convenience function for creating new jQuery objects\n\tfunction $tag(tag, id, css) {\n\t\tvar element = document.createElement(tag);\n\n\t\tif (id) {\n\t\t\telement.id = prefix + id;\n\t\t}\n\n\t\tif (css) {\n\t\t\telement.style.cssText = css;\n\t\t}\n\n\t\treturn $(element);\n\t}\n\n\t// Get the window height using innerHeight when available to avoid an issue with iOS\n\t// http://bugs.jquery.com/ticket/6724\n\tfunction winheight() {\n\t\treturn window.innerHeight ? window.innerHeight : $(window).height();\n\t}\n\n\tfunction Settings(element, options) {\n\t\tif (options !== Object(options)) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tthis.cache = {};\n\t\tthis.el = element;\n\n\t\tthis.value = function(key) {\n\t\t\tvar dataAttr;\n\n\t\t\tif (this.cache[key] === undefined) {\n\t\t\t\tdataAttr = $(this.el).attr('data-cbox-'+key);\n\n\t\t\t\tif (dataAttr !== undefined) {\n\t\t\t\t\tthis.cache[key] = dataAttr;\n\t\t\t\t} else if (options[key] !== undefined) {\n\t\t\t\t\tthis.cache[key] = options[key];\n\t\t\t\t} else if (defaults[key] !== undefined) {\n\t\t\t\t\tthis.cache[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.cache[key];\n\t\t};\n\n\t\tthis.get = function(key) {\n\t\t\tvar value = this.value(key);\n\t\t\treturn $.isFunction(value) ? value.call(this.el, this) : value;\n\t\t};\n\t}\n\n\t// Determine the next and previous members in a group.\n\tfunction getIndex(increment) {\n\t\tvar\n\t\tmax = $related.length,\n\t\tnewIndex = (index + increment) % max;\n\n\t\treturn (newIndex < 0) ? max + newIndex : newIndex;\n\t}\n\n\t// Convert '%' and 'px' values to integers\n\tfunction setSize(size, dimension) {\n\t\treturn Math.round((/%/.test(size) ? ((dimension === 'x' ? $window.width() : winheight()) / 100) : 1) * parseInt(size, 10));\n\t}\n\n\t// Checks an href to see if it is a photo.\n\t// There is a force photo option (photo: true) for hrefs that cannot be matched by the regex.\n\tfunction isImage(settings, url) {\n\t\treturn settings.get('photo') || settings.get('photoRegex').test(url);\n\t}\n\n\tfunction retinaUrl(settings, url) {\n\t\treturn settings.get('retinaUrl') && window.devicePixelRatio > 1 ? url.replace(settings.get('photoRegex'), settings.get('retinaSuffix')) : url;\n\t}\n\n\tfunction trapFocus(e) {\n\t\tif ('contains' in $box[0] && !$box[0].contains(e.target) && e.target !== $overlay[0]) {\n\t\t\te.stopPropagation();\n\t\t\t$box.focus();\n\t\t}\n\t}\n\n\tfunction setClass(str) {\n\t\tif (setClass.str !== str) {\n\t\t\t$box.add($overlay).removeClass(setClass.str).addClass(str);\n\t\t\tsetClass.str = str;\n\t\t}\n\t}\n\n\tfunction getRelated(rel) {\n\t\tindex = 0;\n\n\t\tif (rel && rel !== false && rel !== 'nofollow') {\n\t\t\t$related = $('.' + boxElement).filter(function () {\n\t\t\t\tvar options = $.data(this, colorbox);\n\t\t\t\tvar settings = new Settings(this, options);\n\t\t\t\treturn (settings.get('rel') === rel);\n\t\t\t});\n\t\t\tindex = $related.index(settings.el);\n\n\t\t\t// Check direct calls to Colorbox.\n\t\t\tif (index === -1) {\n\t\t\t\t$related = $related.add(settings.el);\n\t\t\t\tindex = $related.length - 1;\n\t\t\t}\n\t\t} else {\n\t\t\t$related = $(settings.el);\n\t\t}\n\t}\n\n\tfunction trigger(event) {\n\t\t// for external use\n\t\t$(document).trigger(event);\n\t\t// for internal use\n\t\t$events.triggerHandler(event);\n\t}\n\n\tvar slideshow = (function(){\n\t\tvar active,\n\t\t\tclassName = prefix + \"Slideshow_\",\n\t\t\tclick = \"click.\" + prefix,\n\t\t\ttimeOut;\n\n\t\tfunction clear () {\n\t\t\tclearTimeout(timeOut);\n\t\t}\n\n\t\tfunction set() {\n\t\t\tif (settings.get('loop') || $related[index + 1]) {\n\t\t\t\tclear();\n\t\t\t\ttimeOut = setTimeout(publicMethod.next, settings.get('slideshowSpeed'));\n\t\t\t}\n\t\t}\n\n\t\tfunction start() {\n\t\t\t$slideshow\n\t\t\t\t.html(settings.get('slideshowStop'))\n\t\t\t\t.unbind(click)\n\t\t\t\t.one(click, stop);\n\n\t\t\t$events\n\t\t\t\t.bind(event_complete, set)\n\t\t\t\t.bind(event_load, clear);\n\n\t\t\t$box.removeClass(className + \"off\").addClass(className + \"on\");\n\t\t}\n\n\t\tfunction stop() {\n\t\t\tclear();\n\n\t\t\t$events\n\t\t\t\t.unbind(event_complete, set)\n\t\t\t\t.unbind(event_load, clear);\n\n\t\t\t$slideshow\n\t\t\t\t.html(settings.get('slideshowStart'))\n\t\t\t\t.unbind(click)\n\t\t\t\t.one(click, function () {\n\t\t\t\t\tpublicMethod.next();\n\t\t\t\t\tstart();\n\t\t\t\t});\n\n\t\t\t$box.removeClass(className + \"on\").addClass(className + \"off\");\n\t\t}\n\n\t\tfunction reset() {\n\t\t\tactive = false;\n\t\t\t$slideshow.hide();\n\t\t\tclear();\n\t\t\t$events\n\t\t\t\t.unbind(event_complete, set)\n\t\t\t\t.unbind(event_load, clear);\n\t\t\t$box.removeClass(className + \"off \" + className + \"on\");\n\t\t}\n\n\t\treturn function(){\n\t\t\tif (active) {\n\t\t\t\tif (!settings.get('slideshow')) {\n\t\t\t\t\t$events.unbind(event_cleanup, reset);\n\t\t\t\t\treset();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (settings.get('slideshow') && $related[1]) {\n\t\t\t\t\tactive = true;\n\t\t\t\t\t$events.one(event_cleanup, reset);\n\t\t\t\t\tif (settings.get('slideshowAuto')) {\n\t\t\t\t\t\tstart();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstop();\n\t\t\t\t\t}\n\t\t\t\t\t$slideshow.show();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t}());\n\n\n\tfunction launch(element) {\n\t\tvar options;\n\n\t\tif (!closing) {\n\n\t\t\toptions = $(element).data(colorbox);\n\n\t\t\tsettings = new Settings(element, options);\n\n\t\t\tgetRelated(settings.get('rel'));\n\n\t\t\tif (!open) {\n\t\t\t\topen = active = true; // Prevents the page-change action from queuing up if the visitor holds down the left or right keys.\n\n\t\t\t\tsetClass(settings.get('className'));\n\n\t\t\t\t// Show colorbox so the sizes can be calculated in older versions of jQuery\n\t\t\t\t$box.css({visibility:'hidden', display:'block', opacity:''});\n\n\t\t\t\t$loaded = $tag(div, 'LoadedContent', 'width:0; height:0; overflow:hidden; visibility:hidden');\n\t\t\t\t$content.css({width:'', height:''}).append($loaded);\n\n\t\t\t\t// Cache values needed for size calculations\n\t\t\t\tinterfaceHeight = $topBorder.height() + $bottomBorder.height() + $content.outerHeight(true) - $content.height();\n\t\t\t\tinterfaceWidth = $leftBorder.width() + $rightBorder.width() + $content.outerWidth(true) - $content.width();\n\t\t\t\tloadedHeight = $loaded.outerHeight(true);\n\t\t\t\tloadedWidth = $loaded.outerWidth(true);\n\n\t\t\t\t// Opens inital empty Colorbox prior to content being loaded.\n\t\t\t\tvar initialWidth = setSize(settings.get('initialWidth'), 'x');\n\t\t\t\tvar initialHeight = setSize(settings.get('initialHeight'), 'y');\n\t\t\t\tvar maxWidth = settings.get('maxWidth');\n\t\t\t\tvar maxHeight = settings.get('maxHeight');\n\n\t\t\t\tsettings.w = Math.max((maxWidth !== false ? Math.min(initialWidth, setSize(maxWidth, 'x')) : initialWidth) - loadedWidth - interfaceWidth, 0);\n\t\t\t\tsettings.h = Math.max((maxHeight !== false ? Math.min(initialHeight, setSize(maxHeight, 'y')) : initialHeight) - loadedHeight - interfaceHeight, 0);\n\n\t\t\t\t$loaded.css({width:'', height:settings.h});\n\t\t\t\tpublicMethod.position();\n\n\t\t\t\ttrigger(event_open);\n\t\t\t\tsettings.get('onOpen');\n\n\t\t\t\t$groupControls.add($title).hide();\n\n\t\t\t\t$box.focus();\n\n\t\t\t\tif (settings.get('trapFocus')) {\n\t\t\t\t\t// Confine focus to the modal\n\t\t\t\t\t// Uses event capturing that is not supported in IE8-\n\t\t\t\t\tif (document.addEventListener) {\n\n\t\t\t\t\t\tdocument.addEventListener('focus', trapFocus, true);\n\n\t\t\t\t\t\t$events.one(event_closed, function () {\n\t\t\t\t\t\t\tdocument.removeEventListener('focus', trapFocus, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Return focus on closing\n\t\t\t\tif (settings.get('returnFocus')) {\n\t\t\t\t\t$events.one(event_closed, function () {\n\t\t\t\t\t\t$(settings.el).focus();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar opacity = parseFloat(settings.get('opacity'));\n\t\t\t$overlay.css({\n\t\t\t\topacity: opacity === opacity ? opacity : '',\n\t\t\t\tcursor: settings.get('overlayClose') ? 'pointer' : '',\n\t\t\t\tvisibility: 'visible'\n\t\t\t}).show();\n\n\t\t\tif (settings.get('closeButton')) {\n\t\t\t\t$close.html(settings.get('close')).appendTo($content);\n\t\t\t} else {\n\t\t\t\t$close.appendTo('<div/>'); // replace with .detach() when dropping jQuery < 1.4\n\t\t\t}\n\n\t\t\tload();\n\t\t}\n\t}\n\n\t// Colorbox's markup needs to be added to the DOM prior to being called\n\t// so that the browser will go ahead and load the CSS background images.\n\tfunction appendHTML() {\n\t\tif (!$box) {\n\t\t\tinit = false;\n\t\t\t$window = $(window);\n\t\t\t$box = $tag(div).attr({\n\t\t\t\tid: colorbox,\n\t\t\t\t'class': $.support.opacity === false ? prefix + 'IE' : '', // class for optional IE8 & lower targeted CSS.\n\t\t\t\trole: 'dialog',\n\t\t\t\ttabindex: '-1'\n\t\t\t}).hide();\n\t\t\t$overlay = $tag(div, \"Overlay\").hide();\n\t\t\t$loadingOverlay = $([$tag(div, \"LoadingOverlay\")[0],$tag(div, \"LoadingGraphic\")[0]]);\n\t\t\t$wrap = $tag(div, \"Wrapper\");\n\t\t\t$content = $tag(div, \"Content\").append(\n\t\t\t\t$title = $tag(div, \"Title\"),\n\t\t\t\t$current = $tag(div, \"Current\"),\n\t\t\t\t$prev = $('<button type=\"button\"/>').attr({id:prefix+'Previous'}),\n\t\t\t\t$next = $('<button type=\"button\"/>').attr({id:prefix+'Next'}),\n\t\t\t\t$slideshow = $('<button type=\"button\"/>').attr({id:prefix+'Slideshow'}),\n\t\t\t\t$loadingOverlay\n\t\t\t);\n\n\t\t\t$close = $('<button type=\"button\"/>').attr({id:prefix+'Close'});\n\n\t\t\t$wrap.append( // The 3x3 Grid that makes up Colorbox\n\t\t\t\t$tag(div).append(\n\t\t\t\t\t$tag(div, \"TopLeft\"),\n\t\t\t\t\t$topBorder = $tag(div, \"TopCenter\"),\n\t\t\t\t\t$tag(div, \"TopRight\")\n\t\t\t\t),\n\t\t\t\t$tag(div, false, 'clear:left').append(\n\t\t\t\t\t$leftBorder = $tag(div, \"MiddleLeft\"),\n\t\t\t\t\t$content,\n\t\t\t\t\t$rightBorder = $tag(div, \"MiddleRight\")\n\t\t\t\t),\n\t\t\t\t$tag(div, false, 'clear:left').append(\n\t\t\t\t\t$tag(div, \"BottomLeft\"),\n\t\t\t\t\t$bottomBorder = $tag(div, \"BottomCenter\"),\n\t\t\t\t\t$tag(div, \"BottomRight\")\n\t\t\t\t)\n\t\t\t).find('div div').css({'float': 'left'});\n\n\t\t\t$loadingBay = $tag(div, false, 'position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;');\n\n\t\t\t$groupControls = $next.add($prev).add($current).add($slideshow);\n\t\t}\n\t\tif (document.body && !$box.parent().length) {\n\t\t\t$(document.body).append($overlay, $box.append($wrap, $loadingBay));\n\t\t}\n\t}\n\n\t// Add Colorbox's event bindings\n\tfunction addBindings() {\n\t\tfunction clickHandler(e) {\n\t\t\t// ignore non-left-mouse-clicks and clicks modified with ctrl / command, shift, or alt.\n\t\t\t// See: http://jacklmoore.com/notes/click-events/\n\t\t\tif (!(e.which > 1 || e.shiftKey || e.altKey || e.metaKey || e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlaunch(this);\n\t\t\t}\n\t\t}\n\n\t\tif ($box) {\n\t\t\tif (!init) {\n\t\t\t\tinit = true;\n\n\t\t\t\t// Anonymous functions here keep the public method from being cached, thereby allowing them to be redefined on the fly.\n\t\t\t\t$next.click(function () {\n\t\t\t\t\tpublicMethod.next();\n\t\t\t\t});\n\t\t\t\t$prev.click(function () {\n\t\t\t\t\tpublicMethod.prev();\n\t\t\t\t});\n\t\t\t\t$close.click(function () {\n\t\t\t\t\tpublicMethod.close();\n\t\t\t\t});\n\t\t\t\t$overlay.click(function () {\n\t\t\t\t\tif (settings.get('overlayClose')) {\n\t\t\t\t\t\tpublicMethod.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Key Bindings\n\t\t\t\t$(document).bind('keydown.' + prefix, function (e) {\n\t\t\t\t\tvar key = e.keyCode;\n\t\t\t\t\tif (open && settings.get('escKey') && key === 27) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpublicMethod.close();\n\t\t\t\t\t}\n\t\t\t\t\tif (open && settings.get('arrowKey') && $related[1] && !e.altKey) {\n\t\t\t\t\t\tif (key === 37) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$prev.click();\n\t\t\t\t\t\t} else if (key === 39) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$next.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ($.isFunction($.fn.on)) {\n\t\t\t\t\t// For jQuery 1.7+\n\t\t\t\t\t$(document).on('click.'+prefix, '.'+boxElement, clickHandler);\n\t\t\t\t} else {\n\t\t\t\t\t// For jQuery 1.3.x -> 1.6.x\n\t\t\t\t\t// This code is never reached in jQuery 1.9, so do not contact me about 'live' being removed.\n\t\t\t\t\t// This is not here for jQuery 1.9, it's here for legacy users.\n\t\t\t\t\t$('.'+boxElement).live('click.'+prefix, clickHandler);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Don't do anything if Colorbox already exists.\n\tif ($[colorbox]) {\n\t\treturn;\n\t}\n\n\t// Append the HTML when the DOM loads\n\t$(appendHTML);\n\n\n\t// ****************\n\t// PUBLIC FUNCTIONS\n\t// Usage format: $.colorbox.close();\n\t// Usage from within an iframe: parent.jQuery.colorbox.close();\n\t// ****************\n\n\tpublicMethod = $.fn[colorbox] = $[colorbox] = function (options, callback) {\n\t\tvar settings;\n\t\tvar $obj = this;\n\n\t\toptions = options || {};\n\n\t\tif ($.isFunction($obj)) { // assume a call to $.colorbox\n\t\t\t$obj = $('<a/>');\n\t\t\toptions.open = true;\n\t\t}\n\n\t\tif (!$obj[0]) { // colorbox being applied to empty collection\n\t\t\treturn $obj;\n\t\t}\n\n\t\tappendHTML();\n\n\t\tif (addBindings()) {\n\n\t\t\tif (callback) {\n\t\t\t\toptions.onComplete = callback;\n\t\t\t}\n\n\t\t\t$obj.each(function () {\n\t\t\t\tvar old = $.data(this, colorbox) || {};\n\t\t\t\t$.data(this, colorbox, $.extend(old, options));\n\t\t\t}).addClass(boxElement);\n\n\t\t\tsettings = new Settings($obj[0], options);\n\n\t\t\tif (settings.get('open')) {\n\t\t\t\tlaunch($obj[0]);\n\t\t\t}\n\t\t}\n\n\t\treturn $obj;\n\t};\n\n\tpublicMethod.position = function (speed, loadedCallback) {\n\t\tvar\n\t\tcss,\n\t\ttop = 0,\n\t\tleft = 0,\n\t\toffset = $box.offset(),\n\t\tscrollTop,\n\t\tscrollLeft;\n\n\t\t$window.unbind('resize.' + prefix);\n\n\t\t// remove the modal so that it doesn't influence the document width/height\n\t\t$box.css({top: -9e4, left: -9e4});\n\n\t\tscrollTop = $window.scrollTop();\n\t\tscrollLeft = $window.scrollLeft();\n\n\t\tif (settings.get('fixed')) {\n\t\t\toffset.top -= scrollTop;\n\t\t\toffset.left -= scrollLeft;\n\t\t\t$box.css({position: 'fixed'});\n\t\t} else {\n\t\t\ttop = scrollTop;\n\t\t\tleft = scrollLeft;\n\t\t\t$box.css({position: 'absolute'});\n\t\t}\n\n\t\t// keeps the top and left positions within the browser's viewport.\n\t\tif (settings.get('right') !== false) {\n\t\t\tleft += Math.max($window.width() - settings.w - loadedWidth - interfaceWidth - setSize(settings.get('right'), 'x'), 0);\n\t\t} else if (settings.get('left') !== false) {\n\t\t\tleft += setSize(settings.get('left'), 'x');\n\t\t} else {\n\t\t\tleft += Math.round(Math.max($window.width() - settings.w - loadedWidth - interfaceWidth, 0) / 2);\n\t\t}\n\n\t\tif (settings.get('bottom') !== false) {\n\t\t\ttop += Math.max(winheight() - settings.h - loadedHeight - interfaceHeight - setSize(settings.get('bottom'), 'y'), 0);\n\t\t} else if (settings.get('top') !== false) {\n\t\t\ttop += setSize(settings.get('top'), 'y');\n\t\t} else {\n\t\t\ttop += Math.round(Math.max(winheight() - settings.h - loadedHeight - interfaceHeight, 0) / 2);\n\t\t}\n\n\t\t$box.css({top: offset.top, left: offset.left, visibility:'visible'});\n\n\t\t// this gives the wrapper plenty of breathing room so it's floated contents can move around smoothly,\n\t\t// but it has to be shrank down around the size of div#colorbox when it's done.  If not,\n\t\t// it can invoke an obscure IE bug when using iframes.\n\t\t$wrap[0].style.width = $wrap[0].style.height = \"9999px\";\n\n\t\tfunction modalDimensions() {\n\t\t\t$topBorder[0].style.width = $bottomBorder[0].style.width = $content[0].style.width = (parseInt($box[0].style.width,10) - interfaceWidth)+'px';\n\t\t\t$content[0].style.height = $leftBorder[0].style.height = $rightBorder[0].style.height = (parseInt($box[0].style.height,10) - interfaceHeight)+'px';\n\t\t}\n\n\t\tcss = {width: settings.w + loadedWidth + interfaceWidth, height: settings.h + loadedHeight + interfaceHeight, top: top, left: left};\n\n\t\t// setting the speed to 0 if the content hasn't changed size or position\n\t\tif (speed) {\n\t\t\tvar tempSpeed = 0;\n\t\t\t$.each(css, function(i){\n\t\t\t\tif (css[i] !== previousCSS[i]) {\n\t\t\t\t\ttempSpeed = speed;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t\tspeed = tempSpeed;\n\t\t}\n\n\t\tpreviousCSS = css;\n\n\t\tif (!speed) {\n\t\t\t$box.css(css);\n\t\t}\n\n\t\t$box.dequeue().animate(css, {\n\t\t\tduration: speed || 0,\n\t\t\tcomplete: function () {\n\t\t\t\tmodalDimensions();\n\n\t\t\t\tactive = false;\n\n\t\t\t\t// shrink the wrapper down to exactly the size of colorbox to avoid a bug in IE's iframe implementation.\n\t\t\t\t$wrap[0].style.width = (settings.w + loadedWidth + interfaceWidth) + \"px\";\n\t\t\t\t$wrap[0].style.height = (settings.h + loadedHeight + interfaceHeight) + \"px\";\n\n\t\t\t\tif (settings.get('reposition')) {\n\t\t\t\t\tsetTimeout(function () {  // small delay before binding onresize due to an IE8 bug.\n\t\t\t\t\t\t$window.bind('resize.' + prefix, publicMethod.position);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\n\t\t\t\tif ($.isFunction(loadedCallback)) {\n\t\t\t\t\tloadedCallback();\n\t\t\t\t}\n\t\t\t},\n\t\t\tstep: modalDimensions\n\t\t});\n\t};\n\n\tpublicMethod.resize = function (options) {\n\t\tvar scrolltop;\n\n\t\tif (open) {\n\t\t\toptions = options || {};\n\n\t\t\tif (options.width) {\n\t\t\t\tsettings.w = setSize(options.width, 'x') - loadedWidth - interfaceWidth;\n\t\t\t}\n\n\t\t\tif (options.innerWidth) {\n\t\t\t\tsettings.w = setSize(options.innerWidth, 'x');\n\t\t\t}\n\n\t\t\t$loaded.css({width: settings.w});\n\n\t\t\tif (options.height) {\n\t\t\t\tsettings.h = setSize(options.height, 'y') - loadedHeight - interfaceHeight;\n\t\t\t}\n\n\t\t\tif (options.innerHeight) {\n\t\t\t\tsettings.h = setSize(options.innerHeight, 'y');\n\t\t\t}\n\n\t\t\tif (!options.innerHeight && !options.height) {\n\t\t\t\tscrolltop = $loaded.scrollTop();\n\t\t\t\t$loaded.css({height: \"auto\"});\n\t\t\t\tsettings.h = $loaded.height();\n\t\t\t}\n\n\t\t\t$loaded.css({height: settings.h});\n\n\t\t\tif(scrolltop) {\n\t\t\t\t$loaded.scrollTop(scrolltop);\n\t\t\t}\n\n\t\t\tpublicMethod.position(settings.get('transition') === \"none\" ? 0 : settings.get('speed'));\n\t\t}\n\t};\n\n\tpublicMethod.prep = function (object) {\n\t\tif (!open) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar callback, speed = settings.get('transition') === \"none\" ? 0 : settings.get('speed');\n\n\t\t$loaded.remove();\n\n\t\t$loaded = $tag(div, 'LoadedContent').append(object);\n\n\t\tfunction getWidth() {\n\t\t\tsettings.w = settings.w || $loaded.width();\n\t\t\tsettings.w = settings.mw && settings.mw < settings.w ? settings.mw : settings.w;\n\t\t\treturn settings.w;\n\t\t}\n\t\tfunction getHeight() {\n\t\t\tsettings.h = settings.h || $loaded.height();\n\t\t\tsettings.h = settings.mh && settings.mh < settings.h ? settings.mh : settings.h;\n\t\t\treturn settings.h;\n\t\t}\n\n\t\t$loaded.hide()\n\t\t.appendTo($loadingBay.show())// content has to be appended to the DOM for accurate size calculations.\n\t\t.css({width: getWidth(), overflow: settings.get('scrolling') ? 'auto' : 'hidden'})\n\t\t.css({height: getHeight()})// sets the height independently from the width in case the new width influences the value of height.\n\t\t.prependTo($content);\n\n\t\t$loadingBay.hide();\n\n\t\t// floating the IMG removes the bottom line-height and fixed a problem where IE miscalculates the width of the parent element as 100% of the document width.\n\n\t\t$(photo).css({'float': 'none'});\n\n\t\tsetClass(settings.get('className'));\n\n\t\tcallback = function () {\n\t\t\tvar total = $related.length,\n\t\t\t\tiframe,\n\t\t\t\tcomplete;\n\n\t\t\tif (!open) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction removeFilter() { // Needed for IE8 in versions of jQuery prior to 1.7.2\n\t\t\t\tif ($.support.opacity === false) {\n\t\t\t\t\t$box[0].style.removeAttribute('filter');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcomplete = function () {\n\t\t\t\tclearTimeout(loadingTimer);\n\t\t\t\t$loadingOverlay.hide();\n\t\t\t\ttrigger(event_complete);\n\t\t\t\tsettings.get('onComplete');\n\t\t\t};\n\n\n\t\t\t$title.html(settings.get('title')).show();\n\t\t\t$loaded.show();\n\n\t\t\tif (total > 1) { // handle grouping\n\t\t\t\tif (typeof settings.get('current') === \"string\") {\n\t\t\t\t\t$current.html(settings.get('current').replace('{current}', index + 1).replace('{total}', total)).show();\n\t\t\t\t}\n\n\t\t\t\t$next[(settings.get('loop') || index < total - 1) ? \"show\" : \"hide\"]().html(settings.get('next'));\n\t\t\t\t$prev[(settings.get('loop') || index) ? \"show\" : \"hide\"]().html(settings.get('previous'));\n\n\t\t\t\tslideshow();\n\n\t\t\t\t// Preloads images within a rel group\n\t\t\t\tif (settings.get('preloading')) {\n\t\t\t\t\t$.each([getIndex(-1), getIndex(1)], function(){\n\t\t\t\t\t\tvar img,\n\t\t\t\t\t\t\ti = $related[this],\n\t\t\t\t\t\t\tsettings = new Settings(i, $.data(i, colorbox)),\n\t\t\t\t\t\t\tsrc = settings.get('href');\n\n\t\t\t\t\t\tif (src && isImage(settings, src)) {\n\t\t\t\t\t\t\tsrc = retinaUrl(settings, src);\n\t\t\t\t\t\t\timg = document.createElement('img');\n\t\t\t\t\t\t\timg.src = src;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$groupControls.hide();\n\t\t\t}\n\n\t\t\tif (settings.get('iframe')) {\n\n\t\t\t\tiframe = settings.get('createIframe');\n\n\t\t\t\tif (!settings.get('scrolling')) {\n\t\t\t\t\tiframe.scrolling = \"no\";\n\t\t\t\t}\n\n\t\t\t\t$(iframe)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\tsrc: settings.get('href'),\n\t\t\t\t\t\t'class': prefix + 'Iframe'\n\t\t\t\t\t})\n\t\t\t\t\t.one('load', complete)\n\t\t\t\t\t.appendTo($loaded);\n\n\t\t\t\t$events.one(event_purge, function () {\n\t\t\t\t\tiframe.src = \"//about:blank\";\n\t\t\t\t});\n\n\t\t\t\tif (settings.get('fastIframe')) {\n\t\t\t\t\t$(iframe).trigger('load');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcomplete();\n\t\t\t}\n\n\t\t\tif (settings.get('transition') === 'fade') {\n\t\t\t\t$box.fadeTo(speed, 1, removeFilter);\n\t\t\t} else {\n\t\t\t\tremoveFilter();\n\t\t\t}\n\t\t};\n\n\t\tif (settings.get('transition') === 'fade') {\n\t\t\t$box.fadeTo(speed, 0, function () {\n\t\t\t\tpublicMethod.position(0, callback);\n\t\t\t});\n\t\t} else {\n\t\t\tpublicMethod.position(speed, callback);\n\t\t}\n\t};\n\n\tfunction load () {\n\t\tvar href, setResize, prep = publicMethod.prep, $inline, request = ++requests;\n\n\t\tactive = true;\n\n\t\tphoto = false;\n\n\t\ttrigger(event_purge);\n\t\ttrigger(event_load);\n\t\tsettings.get('onLoad');\n\n\t\tsettings.h = settings.get('height') ?\n\t\t\t\tsetSize(settings.get('height'), 'y') - loadedHeight - interfaceHeight :\n\t\t\t\tsettings.get('innerHeight') && setSize(settings.get('innerHeight'), 'y');\n\n\t\tsettings.w = settings.get('width') ?\n\t\t\t\tsetSize(settings.get('width'), 'x') - loadedWidth - interfaceWidth :\n\t\t\t\tsettings.get('innerWidth') && setSize(settings.get('innerWidth'), 'x');\n\n\t\t// Sets the minimum dimensions for use in image scaling\n\t\tsettings.mw = settings.w;\n\t\tsettings.mh = settings.h;\n\n\t\t// Re-evaluate the minimum width and height based on maxWidth and maxHeight values.\n\t\t// If the width or height exceed the maxWidth or maxHeight, use the maximum values instead.\n\t\tif (settings.get('maxWidth')) {\n\t\t\tsettings.mw = setSize(settings.get('maxWidth'), 'x') - loadedWidth - interfaceWidth;\n\t\t\tsettings.mw = settings.w && settings.w < settings.mw ? settings.w : settings.mw;\n\t\t}\n\t\tif (settings.get('maxHeight')) {\n\t\t\tsettings.mh = setSize(settings.get('maxHeight'), 'y') - loadedHeight - interfaceHeight;\n\t\t\tsettings.mh = settings.h && settings.h < settings.mh ? settings.h : settings.mh;\n\t\t}\n\n\t\thref = settings.get('href');\n\n\t\tloadingTimer = setTimeout(function () {\n\t\t\t$loadingOverlay.show();\n\t\t}, 100);\n\n\t\tif (settings.get('inline')) {\n\t\t\tvar $target = $(href).eq(0);\n\t\t\t// Inserts an empty placeholder where inline content is being pulled from.\n\t\t\t// An event is bound to put inline content back when Colorbox closes or loads new content.\n\t\t\t$inline = $('<div>').hide().insertBefore($target);\n\n\t\t\t$events.one(event_purge, function () {\n\t\t\t\t$inline.replaceWith($target);\n\t\t\t});\n\n\t\t\tprep($target);\n\t\t} else if (settings.get('iframe')) {\n\t\t\t// IFrame element won't be added to the DOM until it is ready to be displayed,\n\t\t\t// to avoid problems with DOM-ready JS that might be trying to run in that iframe.\n\t\t\tprep(\" \");\n\t\t} else if (settings.get('html')) {\n\t\t\tprep(settings.get('html'));\n\t\t} else if (isImage(settings, href)) {\n\n\t\t\thref = retinaUrl(settings, href);\n\n\t\t\tphoto = settings.get('createImg');\n\n\t\t\t$(photo)\n\t\t\t.addClass(prefix + 'Photo')\n\t\t\t.bind('error.'+prefix,function () {\n\t\t\t\tprep($tag(div, 'Error').html(settings.get('imgError')));\n\t\t\t})\n\t\t\t.one('load', function () {\n\t\t\t\tif (request !== requests) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// A small pause because some browsers will occasionally report a\n\t\t\t\t// img.width and img.height of zero immediately after the img.onload fires\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tvar percent;\n\n\t\t\t\t\tif (settings.get('retinaImage') && window.devicePixelRatio > 1) {\n\t\t\t\t\t\tphoto.height = photo.height / window.devicePixelRatio;\n\t\t\t\t\t\tphoto.width = photo.width / window.devicePixelRatio;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (settings.get('scalePhotos')) {\n\t\t\t\t\t\tsetResize = function () {\n\t\t\t\t\t\t\tphoto.height -= photo.height * percent;\n\t\t\t\t\t\t\tphoto.width -= photo.width * percent;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (settings.mw && photo.width > settings.mw) {\n\t\t\t\t\t\t\tpercent = (photo.width - settings.mw) / photo.width;\n\t\t\t\t\t\t\tsetResize();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (settings.mh && photo.height > settings.mh) {\n\t\t\t\t\t\t\tpercent = (photo.height - settings.mh) / photo.height;\n\t\t\t\t\t\t\tsetResize();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (settings.h) {\n\t\t\t\t\t\tphoto.style.marginTop = Math.max(settings.mh - photo.height, 0) / 2 + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($related[1] && (settings.get('loop') || $related[index + 1])) {\n\t\t\t\t\t\tphoto.style.cursor = 'pointer';\n\n\t\t\t\t\t\t$(photo).bind('click.'+prefix, function () {\n\t\t\t\t\t\t\tpublicMethod.next();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tphoto.style.width = photo.width + 'px';\n\t\t\t\t\tphoto.style.height = photo.height + 'px';\n\t\t\t\t\tprep(photo);\n\t\t\t\t}, 1);\n\t\t\t});\n\n\t\t\tphoto.src = href;\n\n\t\t} else if (href) {\n\t\t\t$loadingBay.load(href, settings.get('data'), function (data, status) {\n\t\t\t\tif (request === requests) {\n\t\t\t\t\tprep(status === 'error' ? $tag(div, 'Error').html(settings.get('xhrError')) : $(this).contents());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// Navigates to the next page/image in a set.\n\tpublicMethod.next = function () {\n\t\tif (!active && $related[1] && (settings.get('loop') || $related[index + 1])) {\n\t\t\tindex = getIndex(1);\n\t\t\tlaunch($related[index]);\n\t\t}\n\t};\n\n\tpublicMethod.prev = function () {\n\t\tif (!active && $related[1] && (settings.get('loop') || index)) {\n\t\t\tindex = getIndex(-1);\n\t\t\tlaunch($related[index]);\n\t\t}\n\t};\n\n\t// Note: to use this within an iframe use the following format: parent.jQuery.colorbox.close();\n\tpublicMethod.close = function () {\n\t\tif (open && !closing) {\n\n\t\t\tclosing = true;\n\t\t\topen = false;\n\t\t\ttrigger(event_cleanup);\n\t\t\tsettings.get('onCleanup');\n\t\t\t$window.unbind('.' + prefix);\n\t\t\t$overlay.fadeTo(settings.get('fadeOut') || 0, 0);\n\n\t\t\t$box.stop().fadeTo(settings.get('fadeOut') || 0, 0, function () {\n\t\t\t\t$box.hide();\n\t\t\t\t$overlay.hide();\n\t\t\t\ttrigger(event_purge);\n\t\t\t\t$loaded.remove();\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tclosing = false;\n\t\t\t\t\ttrigger(event_closed);\n\t\t\t\t\tsettings.get('onClosed');\n\t\t\t\t}, 1);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Removes changes Colorbox made to the document, but does not remove the plugin.\n\tpublicMethod.remove = function () {\n\t\tif (!$box) { return; }\n\n\t\t$box.stop();\n\t\t$[colorbox].close();\n\t\t$box.stop(false, true).remove();\n\t\t$overlay.remove();\n\t\tclosing = false;\n\t\t$box = null;\n\t\t$('.' + boxElement)\n\t\t\t.removeData(colorbox)\n\t\t\t.removeClass(boxElement);\n\n\t\t$(document).unbind('click.'+prefix).unbind('keydown.'+prefix);\n\t};\n\n\t// A method for fetching the current element Colorbox is referencing.\n\t// returns a jQuery object.\n\tpublicMethod.element = function () {\n\t\treturn $(settings.el);\n\t};\n\n\tpublicMethod.settings = defaults;\n\n}(jQuery, document, window));\n"]}