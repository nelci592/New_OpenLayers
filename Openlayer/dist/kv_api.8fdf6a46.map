{"version":3,"sources":["kv_api.js"],"names":["latlon","this_map","antwoord","cluster","getUrlVars","haal_data_op","map","OpenStreetMap_Mapnik","L","tileLayer","maxNativeZoom","maxZoom","attribution","addTo","lagen","voorspelmodel","wms","layers","format","transparent","zIndex","pane","kunstwerk","WMS","overlay","wissels","overwegen","spooras","kilometrering","luchtfoto","styleEditor","control","position","strings","cancel","cancelTitle","tooltip","tooltipNext","addControl","drawnItems","FeatureGroup","addLayer","bringToBack","drawControl","Control","Draw","edit","featureGroup","remove","draw","polyline","circlemarker","circle","rectangle","polygon","allowIntersection","drawError","color","message","marker","icon","getDefaultIcon","on","Event","CREATED","event","layer","melding","$","colorbox","opacity","overlayClose","closeButton","html","width","bottom","bind","e","val","kenmerken","close","eachLayer","console","log","drawnItemsToJSON","element","opslaan","state","scale","options","maxWidth","metric","imperial","updateWhenIdle","zoomControl","setPosition","easyButton","states","stateName","title","onClick","btn","ajax","url","method","data","task","dataType","error","alert","success","clearLayers","toggle","removeLayer","ilayer","dOut","dOut1","dOut2","ditems","getLayers","iIndex","length","Point","Marker","iconSize","iconUrl","substring","feature","properties","this_kvid","kvid","omschrijving","hersteldatum","vsmnummer","middelinzet","wonummer","inzetnummer","hwonummer","weeknummer","startdatum","starttijd","einddatum","eindtijd","_latlng","lng","lat","stroke","weight","fill","fillColor","fillOpacity","fillRule","dashArray","lineCap","lineJoin","clickable","pointerEvents","className","Polygon","ll","_latlngs","Polyline","zoomoplaag","url_string","geojson","type","response","selectedFeature","geojsonlayer","geoJson","onEachFeature","editing","disable","target","setStyle","fillcolor","dasharray","bindPopup","this_iconsize_tekst","iconsize","this_icon_array","split","this_iconsize","this_iconanchor","this_offset","this_popupanchor","newIcon","iconurl","iconAnchor","popupAnchor","setIcon","bindTooltip","offset","direction","permanent","sticky","openTooltip","bounds","getBounds","fitBounds","wijzig_kenmerk","selected1","selected2","selected3","selected4","selected5","openPopup"],"mappings":"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","file":"kv_api.8fdf6a46.map","sourceRoot":"../map","sourcesContent":["var latlon = [52.226317, 5.313376];\nvar this_map;\nvar antwoord;\n\nvar cluster = getUrlVars()['jaarplan'];\n\n//\n\nhaal_data_op(1);\n\n////initialize the map\nmap = map('map');\n\n\n//Base layer, should probably change to Open Topo at a certain stage\nvar OpenStreetMap_Mapnik = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    maxNativeZoom: 19,\n    maxZoom: 24,\n    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n}).addTo(this_map);\n\n// WMS layers\nvar lagen = {\n\n    voorspelmodel: L.tileLayer.wms('https://bam.projectxplor.nl/geoserver/BAM/wms?', {\n        layers: 'BAM:bam_voorspelmodel_04072018',\n        format: 'image/png',\n        transparent: true,\n        maxZoom: 24,\n        zIndex: 9,\n        pane: 'wms',\n    }),\n\n    kunstwerk: L.WMS.overlay('https://bam.projectxplor.nl/geoserver/BAM/wms?', {\n        layers: 'BAM:kunstwerk2',\n        format: 'image/png',\n        transparent: true,\n        maxZoom: 24,\n        zIndex: 11,\n    }),\n\n    wissels: L.WMS.overlay('https://bam.projectxplor.nl/geoserver/BAM/wms?', {\n        layers: 'BAM:wissels1904',\n        format: 'image/png',\n        transparent: true,\n        maxZoom: 24,\n        zIndex: 10,\n    }),\n\n    overwegen: L.WMS.overlay('https://bam.projectxplor.nl/geoserver/BAM/wms?', {\n        layers: 'BAM:overwegen',\n        format: 'image/png',\n        transparent: true,\n        maxZoom: 24,\n        zIndex: 11,\n    }),\n\n\n\n    spooras: L.WMS.overlay('https://bam.projectxplor.nl/geoserver/BAM/wms?', {\n        layers: 'BAM:spoornaam_1905',\n        format: 'image/png',\n        transparent: true,\n        maxZoom: 24,\n        zIndex: 9,\n    }),\n\n    kilometrering: L.tileLayer.wms('https://bam.projectxplor.nl/geoserver/BAM/wms?', {\n        layers: 'BAM:kilometrering',\n        format: 'image/png',\n        transparent: true,\n        maxZoom: 24,\n        zIndex: 11,\n        pane: 'wms'\n    }),\n\n    /*zkl: L.WMS.overlay('https://bam.projectxplor.nl/geoserver/BAM/wms?', {\n        layers: 'BAM:bam_veiligheid_zkl_2017',\n        format: 'image/png',\n        transparent: true,\n        maxZoom: 24,\n        zIndex: 11,\n    }),*/\n\n    luchtfoto: L.tileLayer.wms('https://bam.projectxplor.nl/geoserver/BAM/wms?', {\n        layers: 'BAM:ProRail2016',\n        format: 'image/png',\n        transparent: true,\n        maxZoom: 24,\n        /*maxNativeZoom: 18,*/\n        zIndex: 1,\n    }),\n\n}\n\n//Initialize the StyleEditor\nvar styleEditor = L.control.styleEditor({\n    position: \"topleft\",\n    strings: {\n      cancel: 'Done',\n      cancelTitle: 'Stop styling elements',\n      tooltip: 'Click on the element you want to style',\n      tooltipNext: 'Choose another element you want to style'\n      }\n});\nthis_map.addControl(styleEditor);\n\n\nvar drawnItems = new L.FeatureGroup();\nthis_map.addLayer(drawnItems);\ndrawnItems.bringToBack();\n\n\nvar drawControl = new L.Control.Draw({\n    edit: {\n        featureGroup: drawnItems,\n        remove: true\n    },\n    draw: {\n        polyline: false,\n        circlemarker: false,\n        circle: false,\n        rectangle: false,\n        polygon: {\n            allowIntersection: false, // polygons cannot intersect thenselves\n            drawError: {\n                color: 'red', // color the shape will turn when intersects\n                message: '<strong>Let op: Een polygoon mag zichzelf niet overlappen.' // message that will show when intersect\n            },\n        },\n        marker: {\n            icon: styleEditor.getDefaultIcon()\n        }\n    }\n});\nthis_map.addControl(drawControl);\n\n\nthis_map.on(L.Draw.Event.CREATED, function (event) {\n    var layer = event.layer;\n\n    //antwoord = prompt(\"geef omschrijving\", \"omschrijving\");\n\n    var melding = \"Omschrijving\";\n\n    $.colorbox({ opacity: 0.4, overlayClose: false, closeButton: false, html: \"<h3>Informatie over dit object</h3><table><tr class=groen><td>Geef omschrijving:</td><td><input id=omschrijving size=50 type=text placholder='omschrijving'></input></td></tr><tr class=groen><td>Uiterste herstel datum:</td><td><input id=hersteldatum input type=date placholder='hersteldatum'></input></td></tr><tr class=groen><td>VSM-nummer:</td><td><input id=vsmnummer type=text placholder='vsmnummer'></input></td></tr><tr class=groen><td>Middelinzet:</td><td><select id=middelinzet><option value=''>--Selecteer--</option><option value='Krol met Windhoff'>Krol met Windhoff</option><option value='Minima'>Minima</option><option value='Plassermatic'>Plassermatic</option><option value='Shimlifts'>Shimlifts</option><option value='Stopmachine 204/205'>Stopmachine 204/205</option></select></tr><tr class=groen><td>WO-nummer:</td><td><input id=wonummer type=text placholder='wonummer'></input></td></tr><tr class=oranje><td>Inzet-nummer:</td><td><input id=inzetnummer type=text placholder='inzetnummer'></input></td></tr><tr  class=oranje><td>HWO-nummer:</td><td><input id=hwonummer type=text placholder='hwonummer'></input></td></tr><tr class=oranje><td>Startdatum:</td><td><input id=startdatum input type=date placholder='startdatum'></input></td></tr><tr  class=oranje><td>Starttijd:</td><td><input id=starttijd type=time placholder='starttijd'></input></td></tr><tr class=oranje><td>Einddatum:</td><td><input id=einddatum input type=date placholder='einddatum'></input></td></tr><tr  class=oranje><td>Eindtijd:</td><td><input id=eindtijd type=time placholder='eindtijd'></input></td></tr><tr class=oranje><td>Weeknummer:</td><td><input id=weeknummer type=text placholder='weeknummer'></input></td></tr></table><br/><center> <button id=kenmerken_verstuur type='button'>OK</button>\", width: \"50%\", bottom: 10 });\n\n\n    $(\"#kenmerken_verstuur\").bind('click', function (e) {\n\n    var antwoord = $(\"#omschrijving\").val() + \"--\" + $(\"#hersteldatum\").val() + \"--\" + $(\"#laagnaam\").val() + \"--\" + $(\"#wonummer\").val() + \"--\" + $(\"#inzetnummer\").val() ;\n    layer.kenmerken = { \"omschrijving\": $(\"#omschrijving\").val(), \"hersteldatum\": $(\"#hersteldatum\").val(), \"vsmnummer\": $(\"#vsmnummer\").val(), \"middelinzet\": $(\"#middelinzet\").val(), \"wonummer\": $(\"#wonummer\").val(), \"inzetnummer\": $(\"#inzetnummer\").val(), \"hwonummer\": $(\"#hwonummer\").val(), \"startdatum\": $(\"#startdatum\").val(), \"starttijd\": $(\"#starttijd\").val(), \"einddatum\": $(\"#einddatum\").val(), \"eindtijd\": $(\"#eindtijd\").val(), \"weeknummer\": $(\"#weeknummer\").val(),\"type\": 1 };\n\n   // console.log( layer);\n\n    $.colorbox.close(); });\n\n\n     drawnItems.addLayer(layer);\n    //var json = drawnItems.toGeoJSON(); {\n    // console.log(json);\n\n\n});\n// log naar console bij aanpassing van polygon\nthis_map.on('draw:edited', function (e) {\n    var layers = e.layers;\n    layers.eachLayer(function (layer) {\n        console.log(drawnItemsToJSON(drawnItems));\n    });\n});\n// log naar console bij aanpassing van styling\nthis_map.on('styleeditor:changed', function (element) {\n    console.log(drawnItemsToJSON(drawnItems));\n});\n\n\n\nthis_map.on('draw:editstart ', function (e) {\n\n\n      opslaan.state('OpslaanNietMogelijk');\n\n     });\n\nthis_map.on('draw:editstop ', function (e) {\n\n\n      opslaan.state('Opslaan');\n\n     });\n\nthis_map.on('draw:deletestart ', function (e) {\n\n\n      opslaan.state('OpslaanNietMogelijk');\n\n     });\n\nthis_map.on('draw:deletestop ', function (e) {\n\n\n      opslaan.state('Opslaan');\n\n     });\n\nthis_map.on('draw:drawstart ', function (e) {\n\n\n      opslaan.state('OpslaanNietMogelijk');\n\n     });\n\nthis_map.on('draw:drawstop ', function (e) {\n\n\n      opslaan.state('Opslaan');\n\n     });\n\nthis_map.on('styleeditor:visible ', function (e) {\n\n\n      opslaan.state('OpslaanNietMogelijk');\n\n     });\n\nthis_map.on('styleeditor:hidden', function (e) {\n\n\n      opslaan.state('Opslaan');\n\n     });\n\n\nL.control.scale({\n    options: {\n        position: 'bottomleft',\n        maxWidth: 100,\n        metric: true,\n        imperial: false,\n        updateWhenIdle: false\n    }\n}).addTo(this_map);\n\n//Zoom button\nthis_map.zoomControl.setPosition('bottomleft');\n\n//var pulsingIcon = L.icon.pulse({iconSize:[20,20],color:'orangered'});\n//var marker = L.marker([50,15],{icon: pulsingIcon}).addTo(this_map);\n\n\n//L.Icon.Default = pulsingIcon;\n\n//Geolocation\n/*lc = L.control.locate({\n    flyTo: true,\n    //markerClass: L.marker([,],{icon: pulsingIcon}),\n\n    markerClass: L.marker,\n    icon: 'fas fa-crosshairs',\n    strings: {\n        title: \"Laat zien waar ik ben!\",\n        metersUnit: \"meter\",\n        popup: \"U bevindt zich binnen {distance} {unit} van dit punt.\"\n    }\n}).addTo(this_map);*/\n\n\n// Save button for drawnItems layer\nopslaan = L.easyButton({\n    states: [{\n        icon: 'fa-save',\n        stateName: 'Opslaan',\n        title: 'Sla uw bewerkingen op.',\n        onClick: function (btn, map) {\n\n            $.ajax({\n                url: 'services/tasks.php',\n                method: 'POST',\n                data: {\n                    task: drawnItemsToJSON(drawnItems),\n                    cluster: cluster\n                },\n                dataType: 'html',\n\t\t    error: function (data) {\n\t\t\talert( \"error\" + data );\n\t\t    },\n\n                success: function (data) {\n\n                   // opnieuw laag ophalen\n\n                   alert( data );\n\n\n\t\t\t drawnItems.clearLayers();\n\n\t\t\t haal_data_op(0);\n\n                 }\n            });\n\n        }\n    },\n\n    {\n    icon: 'fas fa-exclamation-triangle',\n    stateName: 'OpslaanNietMogelijk',\n    onClick: function(control) {\n\n        alert( \"U bent nog in Mutatie mode. Deze moet eerst worden afgesloten\");\n\n\n    },\n       title: 'Opslaan nog niet mogelijk'\n     }\n\n\n\n    ]\n\n}).addTo(this_map);\n\n// Layer switch for drawnItems layer\nvar toggle = L.easyButton({\n  states: [{\n    stateName: 'Verwijder-mutatielaag',\n    icon: 'fas fa-user-times',\n    title: 'Verberg mutatielaag',\n    onClick: function(control) {\n      this_map.removeLayer(drawnItems);\n      control.state('Toon-markers');\n    }\n  }, {\n    icon: 'fas fa-user-edit',\n    stateName: 'Toon-markers',\n    onClick: function(control) {\n      this_map.addLayer(drawnItems);\n      control.state('Verwijder-mutatielaag');\n    },\n    title: 'Toon mutatielaag'\n  }]\n});\ntoggle.addTo(this_map);\n\n\n// Code to combine spatial data and styling data to a string\nfunction drawnItemsToJSON(ilayer) {\n\n    var dOut = '';\n    var dOut1 = '';\n    var dOut2 = '';\n    var ditems = ilayer.getLayers();\n    dOut = '{\"type\":\"FeatureCollection\",\"features\":[';\n    for (iIndex = 0; iIndex < ditems.length; ++iIndex) {\n        if (ditems[iIndex] instanceof L.Point || ditems[iIndex] instanceof L.Marker) {\n            dOut1 = dOut1 + ',{\"type\":\"Feature\",\"properties\":{';\n            if ('icon' in ditems[iIndex].options) {\n                if ('options' in ditems[iIndex].options.icon) {\n                    dOut1 = dOut1 + '\"markerOptions\":{';\n                    dOut2 = '';\n                    if ('iconSize' in ditems[iIndex].options.icon.options) {\n                        dOut2 = dOut2 + ',\"iconSize\":[' + ditems[iIndex].options.icon.options.iconSize[0] + ',' + ditems[iIndex].options.icon.options.iconSize[1] + ']'\n                    };\n                    if ('iconUrl' in ditems[iIndex].options.icon.options) {\n                        dOut2 = dOut2 + ',\"iconUrl\":\"' + ditems[iIndex].options.icon.options.iconUrl + '\"'\n                    };\n\n                    dOut1 = dOut1 + dOut2.substring(1) + '}';\n                };\n            };\n\n\t\tconsole.log( ditems[iIndex] );\n\n\t\tif( ditems[iIndex].feature )\n\t\t{\n\t\t  var kenmerken = ditems[iIndex].feature.properties;\n\t\t  var this_kvid = ditems[iIndex].feature.properties.kvid;\n \t\t}\n\t\telse\n\t\t{\n\t\t var kenmerken = ditems[iIndex].kenmerken;\n\t\t var this_kvid = 0;\n\t\t}\n\n\t\t  dOut1 = dOut1 +  ',\"omschrijving\":\"'+ kenmerken.omschrijving + '\",\"hersteldatum\":\"'+ kenmerken.hersteldatum + '\",\"vsmnummer\":\"'+ kenmerken.vsmnummer + '\",\"middelinzet\":\"'+ kenmerken.middelinzet + '\",\"wonummer\":\"'+ kenmerken.wonummer + '\",\"inzetnummer\":\"'+ kenmerken.inzetnummer + '\",\"hwonummer\":\"'+ kenmerken.hwonummer + '\",\"weeknummer\":\"'+ kenmerken.weeknummer + '\",\"startdatum\":\"'+ kenmerken.startdatum + '\",\"starttijd\":\"'+ kenmerken.starttijd + '\",\"einddatum\":\"'+ kenmerken.einddatum + '\",\"eindtijd\":\"'+ kenmerken.eindtijd + '\",\"kvid\":' + this_kvid;\n\n\n\n            dOut1 = dOut1 + '},\"geometry\":{\"type\":\"Point\",\"coordinates\":[' +\n                ditems[iIndex]._latlng.lng +\n                ',' + ditems[iIndex]._latlng.lat +\n                ']},\"style\":{';\n            dOut2 = '';\n            if ('stroke' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.stroke !== null) {\n                    dOut2 = dOut2 + ',\"stroke\":' + ditems[iIndex].options.stroke\n                }\n            };\n            if ('color' in ditems[iIndex].options) {\n                if (ditems[iIndex].options.color !== null) {\n                    dOut2 = dOut2 + ',\"color\":\"' + ditems[iIndex].options.color + '\"'\n                }\n            };\n            if ('weight' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.weight !== null) {\n                    dOut2 = dOut2 + ',\"weight\":' + ditems[iIndex].options.weight\n                }\n            };\n            if ('opacity' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.opacity !== null) {\n                    dOut2 = dOut2 + ',\"opacity\":' + ditems[iIndex].options.opacity\n                }\n            };\n            if ('fill' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fill !== null) {\n                    dOut2 = dOut2 + ',\"fill\":' + ditems[iIndex].options.fill\n                }\n            };\n            if ('fillColor' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillColor !== null) {\n                    dOut2 = dOut2 + ',\"fillColor\":\"' + ditems[iIndex].options.fillColor + '\"'\n                }\n            };\n            if ('fillOpacity' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillOpacity !== null) {\n                    dOut2 = dOut2 + ',\"fillOpacity\":' + ditems[iIndex].options.fillOpacity\n                }\n            };\n            if ('fillRule' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillRule !== null) {\n                    dOut2 = dOut2 + ',\"fillRule\":\"' + ditems[iIndex].options.fillRule + '\"'\n                }\n            };\n            if ('dashArray' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.dashArray !== null) {\n                    dOut2 = dOut2 + ',\"dashArray\":\"' + ditems[iIndex].options.dashArray + '\"'\n                }\n            };\n            if ('lineCap' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.lineCap !== null) {\n                    dOut2 = dOut2 + ',\"lineCap\":\"' + ditems[iIndex].options.lineCap + '\"'\n                }\n            };\n            if ('lineJoin' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.lineJoin !== null) {\n                    dOut2 = dOut2 + ',\"lineJoin\":\"' + ditems[iIndex].options.lineJoin + '\"'\n                }\n            };\n            if ('clickable' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.clickable !== null) {\n                    dOut2 = dOut2 + ',\"clickable\":' + ditems[iIndex].options.clickable\n                }\n            };\n            if ('pointerEvents' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.pointerEvents !== null) {\n                    dOut2 = dOut2 + ',\"pointerEvents\":\"' + ditems[iIndex].options.pointerEvents + '\"'\n                }\n            };\n            if ('className' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.className !== null) {\n                    dOut2 = dOut2 + ',\"className\":\"' + ditems[iIndex].options.className + '\"'\n                }\n            };\n\n            if (dOut2.length > 1) {\n                dOut1 = dOut1 + dOut2.substring(1) + '}';\n            };\n            dOut2 = '';\n            dOut1 = dOut1 + '}';\n        } else if (ditems[iIndex] instanceof L.Polygon) {\n\n            dOut1 = dOut1 + ',{\"type\":\"Feature\",\"properties\":{';\n\n\t\tif( ditems[iIndex].feature )\n\t\t{\n\t\t  var kenmerken = ditems[iIndex].feature.properties;\n\t\t  var this_kvid = ditems[iIndex].feature.properties.kvid;\n \t\t}\n\t\telse\n\t\t{\n\t\t var kenmerken = ditems[iIndex].kenmerken;\n\t\t var this_kvid = 0;\n\t\t}\n\n\t\t  dOut1 = dOut1 +  '\"omschrijving\":\"'+ kenmerken.omschrijving + '\",\"hersteldatum\":\"'+ kenmerken.hersteldatum + '\",\"vsmnummer\":\"'+ kenmerken.vsmnummer + '\",\"middelinzet\":\"'+ kenmerken.middelinzet + '\",\"wonummer\":\"'+ kenmerken.wonummer + '\",\"inzetnummer\":\"'+ kenmerken.inzetnummer + '\",\"hwonummer\":\"'+ kenmerken.hwonummer + '\",\"weeknummer\":\"'+ kenmerken.weeknummer + '\",\"startdatum\":\"'+ kenmerken.startdatum + '\",\"starttijd\":\"'+ kenmerken.starttijd + '\",\"einddatum\":\"'+ kenmerken.einddatum + '\",\"eindtijd\":\"'+ kenmerken.eindtijd + '\",\"kvid\":' + this_kvid;\n\n\n            dOut1 = dOut1 + '},\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[';\n            dOut2 = '';\n            for (ll = 0; ll < ditems[iIndex]._latlngs[0].length; ll++) {\n                dOut2 = dOut2 + ',[' + ditems[iIndex]._latlngs[0][ll].lng + ',' + ditems[iIndex]._latlngs[0][ll].lat + ']';\n            };\n            dOut2 = dOut2 + ',[' + ditems[iIndex]._latlngs[0][0].lng + ',' + ditems[iIndex]._latlngs[0][0].lat + ']';\n            dOut1 = dOut1 + dOut2.substring(1) + ']]},\"style\":{';\n            dOut2 = '';\n            if ('stroke' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.stroke !== null) {\n                    dOut2 = dOut2 + ',\"stroke\":' + ditems[iIndex].options.stroke\n                }\n            };\n            if ('color' in ditems[iIndex].options) {\n                if (ditems[iIndex].options.color !== null) {\n                    dOut2 = dOut2 + ',\"color\":\"' + ditems[iIndex].options.color + '\"'\n                }\n            };\n            if ('weight' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.weight !== null) {\n                    dOut2 = dOut2 + ',\"weight\":' + ditems[iIndex].options.weight\n                }\n            };\n            if ('opacity' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.opacity !== null) {\n                    dOut2 = dOut2 + ',\"opacity\":' + ditems[iIndex].options.opacity\n                }\n            };\n            if ('fill' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fill !== null) {\n                    dOut2 = dOut2 + ',\"fill\":' + ditems[iIndex].options.fill\n                }\n            };\n            if ('fillColor' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillColor !== null) {\n                    dOut2 = dOut2 + ',\"fillColor\":\"' + ditems[iIndex].options.fillColor + '\"'\n                }\n            };\n            if ('fillOpacity' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillOpacity !== null) {\n                    dOut2 = dOut2 + ',\"fillOpacity\":' + ditems[iIndex].options.fillOpacity\n                }\n            };\n            if ('fillRule' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillRule !== null) {\n                    dOut2 = dOut2 + ',\"fillRule\":\"' + ditems[iIndex].options.fillRule + '\"'\n                }\n            };\n            if ('dashArray' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.dashArray !== null) {\n                    dOut2 = dOut2 + ',\"dashArray\":\"' + ditems[iIndex].options.dashArray + '\"'\n                }\n            };\n            if ('lineCap' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.lineCap !== null) {\n                    dOut2 = dOut2 + ',\"lineCap\":\"' + ditems[iIndex].options.lineCap + '\"'\n                }\n            };\n            if ('lineJoin' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.lineJoin !== null) {\n                    dOut2 = dOut2 + ',\"lineJoin\":\"' + ditems[iIndex].options.lineJoin + '\"'\n                }\n            };\n            if ('clickable' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.clickable !== null) {\n                    dOut2 = dOut2 + ',\"clickable\":' + ditems[iIndex].options.clickable\n                }\n            };\n            if ('pointerEvents' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.pointerEvents !== null) {\n                    dOut2 = dOut2 + ',\"pointerEvents\":\"' + ditems[iIndex].options.pointerEvents + '\"'\n                }\n            };\n            if ('className' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.className !== null) {\n                    dOut2 = dOut2 + ',\"className\":\"' + ditems[iIndex].options.className + '\"'\n                }\n            };\n            if ('icon' in ditems[iIndex].options) {\n                if ('options' in ditems[iIndex].options.icon) {\n                    if ('iconSize' in ditems[iIndex].options.icon.options) {\n                        dOut2 = dOut2 + ',\"iconSize\":[' + ditems[iIndex].options.icon.options.iconSize[0] + ',' + ditems[iIndex].options.icon.options.iconSize[1] + ']\"'\n                    };\n                    if ('iconurl' in ditems[iIndex].options.icon.options) {\n                        dOut2 = dOut2 + ',\"iconUrl\":\"' + ditems[iIndex].options.icon.options.iconUrl + '\"'\n                    };\n                };\n            };\n            if (dOut2.length > 1) {\n                dOut1 = dOut1 + dOut2.substring(1) + '}';\n            };\n            dOut2 = '';\n            dOut1 = dOut1 + '}';\n        } else if (ditems[iIndex] instanceof L.Polyline) {\n            dOut1 = dOut1 + ',{\"type\":\"Feature\",\"properties\":{},\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[['\n            dOut2 = '';\n            for (ll = 0; ll < ditems[iIndex]._latlngs[0].length; ll++) {\n                dOut2 = dOut2 + ',[' + ditems[iIndex]._latlngs[0][ll].lng + ',' + ditems[iIndex]._latlngs[0][ll].lat + ']';\n            };\n            dOut1 = dOut1 + dOut2.substring(1) + ']]},\"style\":{';\n            dOut2 = '';\n            if ('stroke' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.stroke !== null) {\n                    dOut2 = dOut2 + ',\"stroke\":' + ditems[iIndex].options.stroke\n                }\n            };\n            if ('color' in ditems[iIndex].options) {\n                if (ditems[iIndex].options.color !== null) {\n                    dOut2 = dOut2 + ',\"color\":\"' + ditems[iIndex].options.color + '\"'\n                }\n            };\n            if ('weight' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.weight !== null) {\n                    dOut2 = dOut2 + ',\"weight\":' + ditems[iIndex].options.weight\n                }\n            };\n            if ('opacity' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.opacity !== null) {\n                    dOut2 = dOut2 + ',\"opacity\":' + ditems[iIndex].options.opacity\n                }\n            };\n            if ('fill' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fill !== null) {\n                    dOut2 = dOut2 + ',\"fill\":' + ditems[iIndex].options.fill\n                }\n            };\n            if ('fillColor' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillColor !== null) {\n                    dOut2 = dOut2 + ',\"fillColor\":\"' + ditems[iIndex].options.fillColor + '\"'\n                }\n            };\n            if ('fillOpacity' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillOpacity !== null) {\n                    dOut2 = dOut2 + ',\"fillOpacity\":' + ditems[iIndex].options.fillOpacity\n                }\n            };\n            if ('fillRule' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.fillRule !== null) {\n                    dOut2 = dOut2 + ',\"fillRule\":\"' + ditems[iIndex].options.fillRule + '\"'\n                }\n            };\n            if ('dashArray' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.dashArray !== null) {\n                    dOut2 = dOut2 + ',\"dashArray\":\"' + ditems[iIndex].options.dashArray + '\"'\n                }\n            };\n            if ('lineCap' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.lineCap !== null) {\n                    dOut2 = dOut2 + ',\"lineCap\":\"' + ditems[iIndex].options.lineCap + '\"'\n                }\n            };\n            if ('lineJoin' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.lineJoin !== null) {\n                    dOut2 = dOut2 + ',\"lineJoin\":\"' + ditems[iIndex].options.lineJoin + '\"'\n                }\n            };\n            if ('clickable' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.clickable !== null) {\n                    dOut2 = dOut2 + ',\"clickable\":' + ditems[iIndex].options.clickable\n                }\n            };\n            if ('pointerEvents' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.pointerEvents !== null) {\n                    dOut2 = dOut2 + ',\"pointerEvents\":\"' + ditems[iIndex].options.pointerEvents + '\"'\n                }\n            };\n            if ('className' in ditems[iIndex].options) {\n                if (!ditems[iIndex].options.className !== null) {\n                    dOut2 = dOut2 + ',\"className\":\"' + ditems[iIndex].options.className + '\"'\n                }\n            };\n            if ('icon' in ditems[iIndex].options) {\n                if ('options' in ditems[iIndex].options.icon) {\n                    if ('iconSize' in ditems[iIndex].options.icon.options) {\n                        dOut2 = dOut2 + ',\"iconSize\":[' + ditems[iIndex].options.icon.options.iconSize[0] + ',' + ditems[iIndex].options.icon.options.iconSize[1] + ']\"'\n                    };\n                    if ('iconurl' in ditems[iIndex].options.icon.options) {\n                        dOut2 = dOut2 + ',\"iconUrl\":\"' + ditems[iIndex].options.icon.options.iconUrl + '\"'\n                    };\n                };\n            };\n            if (dOut2.length > 1) {\n                dOut1 = dOut1 + dOut2.substring(1) + '}';\n            };\n            dOut2 = '';\n            dOut1 = dOut1 + '}';\n        };\n    };\n    //console.log(dOut + dOut1.substring(1) + ']}');\n    return dOut + dOut1.substring(1) + ']}';\n};\n\n\nfunction haal_data_op( zoomoplaag )\n{\n   var url_string = \"https://safety.projectxplor.nl/geoserver/Safety/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=Safety:v_tasks&maxFeatures=5000&outputFormat=application/json&cql_filter=cluster=\" + cluster;\n\n   // make wfs request and add the layer in the drawItems\n   var geojson = $.ajax({\n    type: \"GET\",\n    dataType: \"json\",\n    url: url_string,\n    success: function (response) {\n\n\n        //drawnItems.addLayer(L.geoJson(response));\n\n\n        var selectedFeature = null;\n\n        var geojsonlayer = L.geoJson(response, {\n            onEachFeature: function (feature, layer) {\n\n\n\n\n                drawnItems.addLayer(layer);\n\n\n                layer.on('click', function (e) {\n                    if (selectedFeature) {\n                        selectedFeature.editing.disable();\n\n                    }\n                    selectedFeature = e.target;\n                    //e.target.editing.enable();\n                });\n                //layer.options.color = layer.feature.properties.color;\n\n\n\t\t        if (layer instanceof L.Polygon) {\n\n\t\t\t     layer.setStyle({\n\t\t\t\t color: layer.feature.properties.color\n\t\t\t     });\n\t\t\t     layer.setStyle({\n\t\t\t     \t fillColor: layer.feature.properties.fillcolor\n\t\t\t     });\n\t\t\t     layer.setStyle({\n\t\t\t\t stroke: layer.feature.properties.stroke\n\t\t\t     });\n\t\t\t     layer.setStyle({\n\t\t\t\t dashArray: layer.feature.properties.dasharray\n\t\t\t     });\n\n                             layer.setStyle({\n\t\t\t\t weight: layer.feature.properties.weight\n\t\t\t     });\n\n                             layer.setStyle({\n\t\t\t\t fillOpacity: layer.feature.properties.opacity\n\t\t\t     })\n\n\t\t\t     //Popup voor vlakken\n\t\t\t     layer.bindPopup(  \"<b>Inzet nummer: \"+ feature.properties.inzetnummer + \"</b><br/>Omschr.: \" + feature.properties.omschrijving + \"<br/>Hersteldatum: \" + feature.properties.hersteldatum + \"<br/>Object ID: \" + feature.properties.kvid + \"<hr/><center><button id=kenmerken_wijzig  onclick=wijzig_kenmerk(\"+ feature.properties.kvid + \");  type='button'>Wijzig kenmerken</button></center>\");\n\n\t\t\t  }\n\n\t\t\t if (layer instanceof L.Point || layer instanceof L.Marker)\n\t\t\t {\n\n\t\t\t    var this_iconsize_tekst = feature.properties.iconsize;\n\n\t\t\t    if( this_iconsize_tekst == \"\" )\n\t\t\t    {\n\t\t\t      this_iconsize_tekst = \"20,50\";\n\t\t\t    }\n\n\t\t\t    var this_icon_array = this_iconsize_tekst.split( \",\" );\n\n\t\t\t    var this_iconsize = [this_icon_array[0], this_icon_array[1]];\n\n\t\t\t    var this_iconanchor = [this_iconsize[0] / 2, this_iconsize[1] / 2];\n\t\t\t    var this_offset = [0, -this_iconsize[1] /2 ];\n\n                            var this_popupanchor = [0, -this_iconsize[1] / 2];\n\n\t\t\t     var newIcon = L.icon({\n\t\t\t                 iconUrl: layer.feature.properties.iconurl,\n\t\t\t                 //shadowUrl: 'leaf-shadow.png',\n\t                                iconSize:    this_iconsize,\n\t\t\t                // shadowSize:   [50, 64],\n\t\t\t                iconAnchor:   this_iconanchor,\n\t\t\t                // shadowAnchor: [4, 62],\n\t\t\t                 popupAnchor: this_popupanchor\n                              });\n\n\n                            layer.setIcon(newIcon);\n\n\n\n\t\t\t    layer.bindTooltip(  \"<b>Inzet #:</b> \"+ feature.properties.inzetnummer  , { offset: this_offset, direction: 'top', opacity: 0.9, permanent: true, sticky: false, closeButton: false}).openTooltip();\n\t\t\t    //Popup voor Punten\n\t                    layer.bindPopup(  \"<b>Middelinzet: \"+ feature.properties.middelinzet + \"</b><br/>Omschrijving: \" + feature.properties.omschrijving + \"<br/>Hersteldatum: \" + feature.properties.hersteldatum + \"<br/>VSM #: \" + feature.properties.vsmnummer + \"<br/>WO #: \" + feature.properties.wonummer + \"<br/>Inzet nummer: \" + feature.properties.inzetnummer + \"<br/>HWO nummer: \" + feature.properties.hwonummer  + \"<br/>Object ID: \" + feature.properties.kvid + \"<br/>Weeknummer: \" + feature.properties.weeknummer + \"<br/>Startdatum: \" + feature.properties.startdatum + \"<br/>Starttijd: \" + feature.properties.starttijd + \"<br/>Einddatum: \" + feature.properties.einddatum + \"<br/>Eindtijd: \" + feature.properties.eindtijd +  \"<hr/><center><button id=kenmerken_wijzig onclick=wijzig_kenmerk(\"+ feature.properties.kvid + \"); type='button'>Wijzig kenmerken</button></center>\");\n\n\n\t\t\t}\n\n\n            }\n\n        });\n\n\n        if( zoomoplaag == 1 )\n        {\n\n          if(  drawnItems.getLayers().length > 0 )\n          {\n            var bounds = drawnItems.getBounds();\n\t    this_map.fitBounds(bounds);\n\t  }\n\t}\n    }\n\n});\n\n\n}\n\nfunction wijzig_kenmerk( kvid )\n{\n\n      var ditems = drawnItems.getLayers();\n      for (iIndex = 0; iIndex < ditems.length; ++iIndex)\n      {\n\n         if( ditems[iIndex].feature.properties.kvid == kvid )\n         {\n\n            var selected1=\"\";\n            var selected2=\"\";\n            var selected3=\"\";\n            var selected4=\"\";\n            var selected5=\"\";\n\n            if( ditems[iIndex].feature.properties.middelinzet == \"Krol met Windhoff\" )\n            {\n               selected1 = \"SELECTED\";\n            }\n            if( ditems[iIndex].feature.properties.middelinzet == \"Minima\" )\n            {\n               selected2 = \"SELECTED\";\n            }\n            if( ditems[iIndex].feature.properties.middelinzet == \"Plassermatic\" )\n            {\n               selected3 = \"SELECTED\";\n            }\n            if( ditems[iIndex].feature.properties.middelinzet == \"Shimlifts\" )\n            {\n               selected4 = \"SELECTED\";\n            }\n            if( ditems[iIndex].feature.properties.middelinzet == \"Stopmachine 204/205\" )\n            {\n               selected5 = \"SELECTED\";\n            }\n\n            $.colorbox({ opacity: 0.4, overlayClose: false, closeButton: false, html: \"<h3>Informatie over dit object: \"+ kvid + \"</h3><table><tr class=groen><td>Geef omschrijving:</td><td><input id=omschrijving value='\"+  ditems[iIndex].feature.properties.omschrijving  + \"' size=50 type=text placholder='omschrijving'></input></td></tr><tr class=groen><td>Uiterste herstel datum:</td><td><input id=hersteldatum value='\"+  ditems[iIndex].feature.properties.hersteldatum  + \"'  type=date placholder='hersteldatum'></input></td></tr><tr class=groen><td>VSM-nummer:</td><td><input value='\"+  ditems[iIndex].feature.properties.vsmnummer  + \"'  id=vsmnummer type=text placholder='vsmnummer'></input></td></tr><tr class=groen><td>Middelinzet:</td><td><select id=middelinzet><option value=''>--Selecteer--</option><option \" + selected1 + \" value='Krol met Windhoff'>Krol met Windhoff</option><option \" + selected2 + \" value='Minima'>Minima</option><option \" + selected3 + \" value='Plassermatic'>Plassermatic</option><option \" + selected4 + \" value='Shimlifts'>Shimlifts</option><option \" + selected5 + \"  value='Stopmachine 204/205'>Stopmachine 204/205</option></select></tr><tr class=groen><td>WO-nummer:</td><td><input value='\"+  ditems[iIndex].feature.properties.wonummer  + \"' id=wonummer type=text placholder='wonummer'></input></td></tr><tr class=oranje><td>Inzet-nummer:</td><td><input value='\"+  ditems[iIndex].feature.properties.inzetnummer  + \"' id=inzetnummer type=text placholder='inzetnummer'></input></td></tr><tr  class=oranje><td>HWO-nummer:</td><td><input id=hwonummer value='\"+  ditems[iIndex].feature.properties.hwonummer  + \"' type=text placholder='hwonummer'></input></td></tr><tr class=oranje><td>Startdatum:</td><td><input id=startdatum value='\"+  ditems[iIndex].feature.properties.startdatum  + \"'  type=date placholder='startdatum'></input></td></tr><tr  class=oranje><td>Starttijd:</td><td><input id=starttijd value='\"+  ditems[iIndex].feature.properties.starttijd  + \"'  type=time placholder='starttijd'></input></td></tr><tr class=oranje><td>Einddatum:</td><td><input id=einddatum value='\"+  ditems[iIndex].feature.properties.einddatum  + \"'  type=date placholder='einddatum'></input></td></tr><tr  class=oranje><td>Eindtijd:</td><td><input id=eindtijd value='\"+  ditems[iIndex].feature.properties.eindtijd  + \"'  type=time placholder='eindtijd'></input></td></tr><tr class=oranje><td>Weeknummer:</td><td><input id=weeknummer value='\"+  ditems[iIndex].feature.properties.weeknummer  + \"'  type=text placholder='weeknummer'></input></td></tr></table><br/><center> <button id=kenmerken_verstuur type='button'>OK</button>\", width: \"50%\", bottom: 10 });\n\n\n            // $.colorbox({ opacity: 0.4, overlayClose: false, html: \"<h3>Informatie over dit object: \"+ kvid + \"</h3><table><tr class=groen><td>Geef omschrijving:</td><td><input id=omschrijving value='\"+  ditems[iIndex].feature.properties.omschrijving  + \"' type=text placholder='omschrijving'></input></td></tr><tr class=groen><td>Hersteldatum:</td><td><input value='\"+  ditems[iIndex].feature.properties.hersteldatum  + \"' id=hersteldatum type=date placholder='hersteldatum'></input></td></tr><tr><td>Middelinzet:</td><td><input value='\"+  ditems[iIndex].feature.properties.middelinzet  + \"' id=laagnaam type=text placholder='middelinzet'></input></td></tr><tr><td>Inzet #:</td><td><input value='\"+  ditems[iIndex].feature.properties.inzetnummer  + \"' id=inzetnummer type=text placholder='inzetnummer'></input></td></tr><tr><td>WO #:</td><td><input id=wonummer type=text placholder='wonummer'></input></td></tr><tr><td>Starttijd:</td><td><input id=starttijd type=time placholder='starttijd'></input></td></tr><tr><td>Eindtijd:</td><td><input id=eindtijd type=time placholder='eindtijd'></input></td></tr></table><br/><center> <button id=kenmerken_verstuur type='button'>OK</button>\", width: \"50%\", bottom: 10 });\n\n         }\n\n      }\n\n\n    $(\"#kenmerken_verstuur\").bind('click', function (e) {\n\n      var ditems = drawnItems.getLayers();\n      for (iIndex = 0; iIndex < ditems.length; ++iIndex)\n      {\n\n         if( ditems[iIndex].feature.properties.kvid == kvid )\n         {\n\n\n\t     ditems[iIndex].feature.properties.omschrijving = $(\"#omschrijving\").val();\n\t     ditems[iIndex].feature.properties.hersteldatum = $(\"#hersteldatum\").val();\n\t     ditems[iIndex].feature.properties.middelinzet = $(\"#middelinzet\").val();\n\t     ditems[iIndex].feature.properties.wonummer = $(\"#wonummer\").val();\n\t     ditems[iIndex].feature.properties.inzetnummer = $(\"#inzetnummer\").val();\n\t     ditems[iIndex].feature.properties.vsmnummer = $(\"#vsmnummer\").val();\n\t     ditems[iIndex].feature.properties.hwonummer = $(\"#hwonummer\").val();\n\t     ditems[iIndex].feature.properties.weeknummer = $(\"#weeknummer\").val();\n\t     ditems[iIndex].feature.properties.startdatum = $(\"#startdatum\").val();\n\t     ditems[iIndex].feature.properties.einddatum = $(\"#einddatum\").val();\n\t     ditems[iIndex].feature.properties.starttijd = $(\"#starttijd\").val();\n\t     ditems[iIndex].feature.properties.eindtijd = $(\"#eindtijd\").val();\n\n      var feature = ditems[iIndex].feature;\n\n      ditems[iIndex].bindPopup(  \"<b>Middelinzet: \"+ feature.properties.middelinzet + \"</b><br/>Omschrijving: \" + feature.properties.omschrijving + \"<br/>Hersteldatum: \" + feature.properties.hersteldatum + \"<br/>VSM #: \" + feature.properties.vsmnummer + \"<br/>WO #: \" + feature.properties.wonummer + \"<br/>Inzet nummer: \" + feature.properties.inzetnummer + \"<br/>HWO nummer: \" + feature.properties.hwonummer  + \"<br/>Object ID: \" + feature.properties.kvid + \"<br/>Weeknummer: \" + feature.properties.weeknummer + \"<br/>Startdatum: \" + feature.properties.startdatum + \"<br/>Starttijd: \" + feature.properties.starttijd + \"<br/>Einddatum: \" + feature.properties.einddatum + \"<br/>Eindtijd: \" + feature.properties.eindtijd +  \"<hr/><center><button id=kenmerken_wijzig onclick=wijzig_kenmerk(\"+ feature.properties.kvid + \"); type='button'>Wijzig kenmerken</button></center>\").openPopup();;\n\n\t    //  ditems[iIndex].bindPopup(  \"<b>PUNT: \"+ ditems[iIndex].feature.properties.kvid + \"</b><br/>Omschr.: \" + ditems[iIndex].feature.properties.omschrijving + \"<br/>Hersteldatum: \" + feature.properties.hersteldatum + \"<br/>WO #: \" + feature.properties.wonummer + \"<br/>Middelinzet: \" + ditems[iIndex].feature.properties.middelinzet + \"<br/>Inzet nummer: \" + ditems[iIndex].feature.properties.inzetnummer + \"<hr/><center><i>Let op: uw wijzigingen zijn nog niet opgeslagen!<br/><button id=kenmerken_wijzig onclick=wijzig_kenmerk(\"+ ditems[iIndex].feature.properties.kvid + \"); type='button'>Wijzig kenmerken</button></center>\").openPopup();\n\n\t     $.colorbox.close();\n\n         }\n      }\n\n   });\n\n }\n"]}