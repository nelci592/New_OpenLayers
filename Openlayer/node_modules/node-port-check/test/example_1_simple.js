/**
 * Demo use case:
 *  We'll bind ports 3010 and 3011 with mockServer
 *  Since we have maxRetries = 3 in the 'yourConfig', it will increment the config port 3 times
 *  and check the availability for ports 3010, 3011 and 3012
 *  the returning port will be 3012 ( assuming you don't have that port bound by another application )
 *
 *  #1 - this lines won't exist in your code, their purpose it's just for testing
 */
let mockServer = require('./mockServer.js'); // #1
mockServer(3010); // #1
mockServer(3011); // #1

/**
 * EXAMPLE 1
 */
let NodePortCheck = require('../lib/index.js'); // require('node-port-check');

let yourConfig = {
    host: '0.0.0.0',
    port: 3010,
    output: true,
    maxRetries: 3
};

NodePortCheck(yourConfig, (isPortAvailable, availablePort, initialPort) => {

    console.log('');

    if (isPortAvailable) {

        console.log('Available port:', availablePort);

    } else {

        console.log('Port is not available, last tried port was', availablePort);

    }

    console.log('Your config port/s:', initialPort);

    process.exit(0);

});
