/**
 * Demo use case:
 *  We'll bind ports 3010, 4500 and 9921 with mockServer
 *  Since we have maxRetries = 0 now in 'yourConfig' no incrementation will be done ( see example 3 for multiple ports and maxRetries > 0 )
 *  the returning port will be the first encountered free port, that is 5195
 *  ( assuming you don't have that port bound by another application )
 *
 *  #1 - this lines won't exist in your code, their purpose it's just for testing
 */
let mockServer = require('./mockServer.js'); // #1
mockServer(3010); // #1
mockServer(4500); // #1
mockServer(9921); // #1

/**
 * EXAMPLE 2
 */
let NodePortCheck = require('../lib/index.js'); // require('node-port-check');

let yourConfig = {
    host: '0.0.0.0',
    port: [3010, 4500, 5195, 9921],
    output: true,
    maxRetries: 0
};

NodePortCheck(yourConfig, (isPortAvailable, availablePort, initialPort) => {

    console.log('');

    if (isPortAvailable) {

        console.log('Available port:', availablePort);

    } else {

        console.log('Port is not available, last tried port was', availablePort);

    }

    console.log('Your config port/s:', initialPort);

    process.exit(0);

});
